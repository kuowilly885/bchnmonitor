(function(t){function e(e){for(var n,c,r=e[0],o=e[1],h=e[2],b=0,u=[];b<r.length;b++)c=r[b],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&u.push(s[c][0]),s[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(u.length)u.shift()();return i.push.apply(i,h||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},s={app:0},i=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var h=0;h<r.length;h++)e(r[h]);var l=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"165a":function(t,e,a){},"2f4a":function(t,e,a){"use strict";var n=a("4123"),s=a.n(n);s.a},3760:function(t,e,a){},4123:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"EventBus",(function(){return T}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"master"},[a("loadingComponent",{attrs:{active:t.isBlocksDataLoading,"can-cancel":!1,"lock-scroll":!0,"is-full-page":!0},on:{"update:active":function(e){t.isBlocksDataLoading=e}}}),a("div",{staticClass:"header"},[a("h1",[t._v(" BCH Hard Fork Monitor")]),a("div",{staticClass:"menu"},[a("div",[a("a",{class:{selected:"mix"==t.tab,normal:"mix"!=t.tab},attrs:{tab:"mix"},on:{click:t.changeTab}},[t._v("MIX")])]),a("div",[a("a",{class:{selected:"bch"==t.tab,normal:"bch"!=t.tab},attrs:{tab:"bch"},on:{click:t.changeTab}},[t._v("BCH ABC")])]),a("div",[a("a",{class:{selected:"bchn"==t.tab,normal:"bchn"!=t.tab},attrs:{tab:"bchn"},on:{click:t.changeTab}},[t._v("BCH NODE")])]),a("div",[a("a",{class:{selected:"bchbchn"==t.tab,normal:"bchbchn"!=t.tab},attrs:{tab:"bchbchn"},on:{click:t.changeTab}},[t._v("BCH ABC NODE")])])])]),a("div",{staticClass:"page_container"},[a("div",{staticClass:"blockdata_container"},[a("div",{staticClass:"blocksection"},t._l(t.bdatas,(function(t){return a("blockDataComponent",{key:t.tag,attrs:{bdata:t}})})),1)]),a("div",{staticClass:"chain_container"},[a("div",{staticClass:"chain"},[t._l(t.blocks,(function(e){return a("blockComponent",{key:e.height,attrs:{block:e,tag:t.tab}})})),t.blocks.length?a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleScrolledToBottom,expression:"handleScrolledToBottom"}]}):t._e()],2)])])],1)},i=[],c=(a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("1da1")),r=a("bc3a"),o=a.n(r),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-container"},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:t.tip,expression:"tip",modifiers:{left:!0}}],staticClass:"block-content-container",on:{click:t.showBlock}},[a("img",{staticClass:"block",attrs:{src:t.imgSrcPath}}),a("div",{staticClass:"height-container"},[a("div",{staticClass:"height",class:{height_black:t.isSame,height_red:!t.isSame}},[t._v(t._s(t.block.height))])])]),a("div",{staticClass:"vl",class:{vl_black:t.isSame,vl_red:!t.isSame}})])},l=[],b={name:"Block",data:function(){return{imgSrcPath:"/image/cube-same.png",isSame:!1,tip:""}},props:{block:Object,tag:String},methods:{getLastHash:function(t){return t?"..."+t.substring(t.length-15,t.length):"none"},showBlock:function(){if("mix"==this.tag)T.$emit("showBlock",this.block);else{var t={bch:{isEmpty:!0},bchn:{isEmpty:!0},bchbchn:{isEmpty:!0}};t[this.tag]=this.block,T.$emit("showBlock",t)}}},mounted:function(){if("mix"==this.tag){var t=this.block.bch.hash,e=this.block.bchn.hash,a=this.block.bchbchn.hash;this.isSame=t==e&&e==a,this.imgSrcPath=this.isSame?"/image/cube-same.png":"/image/cube-diff.png",this.tip="bchabc: "+this.getLastHash(t)+"\nbchnode: "+this.getLastHash(e)+"\nbchbchn: "+this.getLastHash(a)}else this.isSame=!0,this.imgSrcPath="/image/cube-same.png",this.tip=this.getLastHash(this.block.hash)}},u=b,p=(a("98b2"),a("2877")),d=Object(p["a"])(u,h,l,!1,null,"7eaa067d",null),v=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("h1",{staticClass:"title"},[t._v(t._s(t.bdata.tag))]),a("div",{staticClass:"item"},[a("span",[t._v("Height:")]),a("span",[t._v(t._s(t.bdata.height))])]),a("div",{staticClass:"item"},[a("span",[t._v("Size:")]),a("span",[t._v(t._s(t.bdata.size))])]),a("div",{staticClass:"item"},[a("span",[t._v("Version:")]),a("span",[t._v(t._s(t.bdata.version))])]),a("div",{staticClass:"item"},[a("span",[t._v("Version Hex:")]),a("span",[t._v(t._s(t.bdata.versionHex?t.bdata.versionHex:"null"))])]),a("div",{staticClass:"item"},[a("span",[t._v("Time:")]),a("span",[t._v(t._s(t.bdata.time))])]),a("div",{staticClass:"item"},[a("span",[t._v("Median Time:")]),a("span",[t._v(t._s(t.bdata.mediantime))])]),a("div",{staticClass:"item"},[a("span",[t._v("Nonce:")]),a("span",[t._v(t._s(t.bdata.nonce))])]),a("div",{staticClass:"item"},[a("span",[t._v("Bits:")]),a("span",[t._v(t._s(t.bdata.bits))])]),a("div",{staticClass:"item"},[a("span",[t._v("Nunber of Txs:")]),a("span",[t._v(t._s(t.bdata.nTx))])]),a("div",{staticClass:"item"},[a("span",[t._v("Chainwork:")]),a("span",[t._v(t._s(t.bdata.chainwork))])]),a("div",{staticClass:"item"},[a("span",[t._v("Previous Hash:")]),a("span",[t._v(t._s(t.bdata.previousblockhash))])]),a("div",{staticClass:"item"},[a("span",[t._v("Merkle Root:")]),a("span",[t._v(t._s(t.bdata.merkleroot))])]),a("div",{staticClass:"item"},[a("span",[t._v("Hash:")]),a("span",[t._v(t._s(t.bdata.hash))])])])},f=[],g={name:"BlockData",data:function(){return{}},props:{bdata:Object},methods:{},mounted:function(){}},k=g,_=(a("2f4a"),Object(p["a"])(k,m,f,!1,null,"7cbef587",null)),x=_.exports,y=a("9062"),C=a.n(y),B=(a("e40d"),{name:"App",components:{blockComponent:v,blockDataComponent:x,loadingComponent:C.a},data:function(){return{blocks:[],afterHeight:0,tab:"mix",bdatas:[],isBlocksDataLoading:!0}},methods:{getTopBlocks:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i,c,r,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("mix"!=t.tab){e.next=10;break}return e.next=3,o.a.get("/api/mix/blocks");case 3:a=e.sent,n=0==a.data.bch.blocks.length?-1:a.data.bch.blocks[0].height,s=0==a.data.bchn.blocks.length?-1:a.data.bchn.blocks[0].height,i=0==a.data.bchbchn.blocks.length?-1:a.data.bchbchn.blocks[0].height,t.afterHeight=Math.max(n,s,i)+1,e.next=15;break;case 10:return e.next=12,o.a.get("/api/"+t.tab+"/blocks");case 12:c=e.sent,r=0==c.data.blocks.length?-1:c.data.blocks[0].height,t.afterHeight=r+1;case 15:return e.next=17,t.getBlocksByHeight();case 17:t.blocks=e.sent,"mix"==t.tab?T.$emit("showBlock",t.blocks[0]):(h={bch:{isEmpty:!0},bchn:{isEmpty:!0},bchbchn:{isEmpty:!0}},h[t.tab]=t.blocks[0],T.$emit("showBlock",h));case 19:case"end":return e.stop()}}),e)})))()},getBlocksByHeight:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i,c,r,h,l,b,u,p,d,v,m,f,g,k,_,x;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isBlocksDataLoading=!0,a=[],"mix"!=t.tab){e.next=29;break}return e.next=5,o.a.get("/api/mix/blocks?afterHeight="+t.afterHeight);case 5:n=e.sent,s=t.getMap(n.data.bch),i=t.getMap(n.data.bchn),c=t.getMap(n.data.bchbchn),r=t.afterHeight-1,h=!1,l=0;case 12:if(!(l<10)){e.next=26;break}if(b=s[r],u=i[r],p=c[r],d={height:r,bch:b||{isEmpty:!0},bchn:u||{isEmpty:!0},bchbchn:p||{isEmpty:!0}},d.bch.isEmpty&&d.bchn.isEmpty&&d.bchbchn.isEmpty){e.next=21;break}a.push(d),e.next=23;break;case 21:return h=!0,e.abrupt("break",26);case 23:l++,r--,e.next=12;break;case 26:t.afterHeight=h?-1:r+1,e.next=49;break;case 29:return e.next=31,o.a.get("/api/"+t.tab+"/blocks?afterHeight="+t.afterHeight);case 31:v=e.sent,m=t.getMap(v.data),f=t.afterHeight-1,g=!1,k=0;case 36:if(!(k<10)){e.next=48;break}if(_=m[f],x=_||{isEmpty:!0},x.isEmpty){e.next=43;break}a.push(x),e.next=45;break;case 43:return g=!0,e.abrupt("break",48);case 45:k++,f--,e.next=36;break;case 48:t.afterHeight=g?-1:f+1;case 49:return t.isBlocksDataLoading=!1,e.abrupt("return",a);case 51:case"end":return e.stop()}}),e)})))()},handleScrolledToBottom:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,s,i,c,r,o,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t){a.next=4;break}return a.abrupt("return");case 4:if(-1==e.afterHeight){a.next=27;break}return a.next=7,e.getBlocksByHeight();case 7:for(n=a.sent,s=!0,i=!1,c=void 0,a.prev=11,r=n[Symbol.iterator]();!(s=(o=r.next()).done);s=!0)h=o.value,e.blocks.push(h);a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](11),i=!0,c=a.t0;case 19:a.prev=19,a.prev=20,s||null==r.return||r.return();case 22:if(a.prev=22,!i){a.next=25;break}throw c;case 25:return a.finish(22);case 26:return a.finish(19);case 27:case"end":return a.stop()}}),a,null,[[11,15,19,27],[20,,22,26]])})))()},getMap:function(t){var e={},a=!0,n=!1,s=void 0;try{for(var i,c=t.blocks[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var r=i.value;r&&(e[r.height]=r)}}catch(o){n=!0,s=o}finally{try{a||null==c.return||c.return()}finally{if(n)throw s}}return e},showBlock:function(t){var e=[];t.bch.isEmpty||(e.push(t.bch),t.bch.tag="BCH"),t.bchn.isEmpty||(e.push(t.bchn),t.bchn.tag="BCH NODE"),t.bchbchn.isEmpty||(e.push(t.bchbchn),t.bchbchn.tag="BCH ABC NODE"),this.bdatas=e},changeTab:function(t){var e=t.currentTarget.getAttribute("tab");e!=this.tab&&(this.blocks=[],this.afterHeight=0,this.tab=e,this.bdatas=[],this.getTopBlocks())}},mounted:function(){T.$on("showBlock",this.showBlock),this.getTopBlocks()}}),w=B,H=(a("5bd7"),Object(p["a"])(w,s,i,!1,null,"6efdbb4f",null)),E=H.exports,S=a("e37d"),O=a("85fe");a("3760");n["a"].use(S["a"]),n["a"].use(O["a"]),n["a"].config.productionTip=!1;var T=new n["a"];new n["a"]({render:function(t){return t(E)}}).$mount("#app")},"5bd7":function(t,e,a){"use strict";var n=a("165a"),s=a.n(n);s.a},"98b2":function(t,e,a){"use strict";var n=a("ac79"),s=a.n(n);s.a},ac79:function(t,e,a){}});
//# sourceMappingURL=app.f09cebde.js.map